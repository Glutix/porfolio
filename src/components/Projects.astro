---
import SectionTitle from "../components/SectionTitle.astro";
import { Image, imageConfig } from "astro:assets";
import { type ImageMetadata } from "astro";

//images
import facilMarketDesktop from "../assets/facil-market-desktop.png";
import facilMarketMobile from "../assets/facil-market-mobile.png";

//icons
import TypeScript from "../icons/TypeScript.astro";
import Express from "../icons/Express.astro";
import React from "../icons/React.astro";
import Redux from "../icons/Redux.astro";
import Code from "../icons/Code.astro";
import GitHub from "../icons/GitHub.astro";
import WebSite from "../icons/WebSite.astro";

type PropsImage = {
  urlDesktop: ImageMetadata;
  altDesktop: string;
  urlMobile: ImageMetadata;
  altMobile: string;
};

interface ProjectsProps {
  title: string;
  description: string;
  tags: any[];
  images: PropsImage;
  github: string;
  deploy: string;
}

const PROJECTS: ProjectsProps[] = [
  {
    title: "Facil Market - Markplace para compradores y vendedores",
    description:
      "Este proyecto es una aplicación de Marketplace. Aquí, ofrecemos una plataforma para que el comprador y el vendedor puedan hacer que su negocio sea fácil y accesible.",
    tags: [TypeScript, Express, Redux, React],
    images: {
      urlDesktop: facilMarketDesktop,
      altDesktop: "facil-market-desktop",
      urlMobile: facilMarketMobile,
      altMobile: "facil-market-mobile",
    },
    github: "https://github.com/adharainfinita/facil-market-proyect.git",
    deploy: "",
  },
];
---

<div>
  <SectionTitle title="Proyectos" icon={Code} />
  {
    PROJECTS.map(({ title, description, tags, images, github, deploy }) => {
      return (
        <article>
          <h3>{title}</h3>
          <p>{description}</p>

          <ul>
            {tags.map((Badge) => (
              <li>
                <Badge />
              </li>
            ))}
          </ul>
          <Image
            class="image-desktop"
            src={images.urlDesktop}
            alt={images.altDesktop}
          />
          <Image
            class="image-mobile"
            src={images.urlMobile}
            alt={images.altMobile}
          />
          <section>
            <a href={`${github}`} target="_target">
              <GitHub class="github" /> Code
            </a>
            {deploy !== "" ? (
              <a href={`${deploy}`} target="_target">
                <WebSite class="github" /> Sitio web
              </a>
            ) : (
              ""
            )}
          </section>
        </article>
      );
    })
  }
</div>

<style>
  h3 {
    font-size: 24px;
    color: var(--text-enfasis);
    margin: 0;
  }

  p {
    padding-right: 1rem;
  }

  .image-desktop {
    width: 100%;
    height: 416px;
    border-radius: 4px;
    padding-bottom: 0.5rem;
    aspect-ratio: 2/1;
    object-fit: cover;
  }

  .image-mobile {
    display: none;
  }

  article {
    ul {
      list-style: none;
      display: flex;
      padding: 0;
      gap: 1rem;
    }
  }

  section {
    display: flex;
    gap: 1rem;
    align-items: center;

    a {
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      background-color: var(--secundary-color);
      width: fit-content;
      padding: 0.5rem;
      border-radius: 24px;
      color: var(--text-normal);
    }
  }

  .github {
    width: 20px;
    height: 20px;
    color: white;
  }

  @media (max-width: 600px) {
    .image-desktop {
      display: none;
    }

    .image-mobile {
      display: flex;
      width: 100%;
      height: 416px;
      border-radius: 4px;
      padding-bottom: 0.5rem;
      aspect-ratio: 2/1;
      object-fit: cover;
    }
  }
</style>
